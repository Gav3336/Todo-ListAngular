<div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6">
  <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Add New Task</h2>

  <!-- Task Form -->
  <form [formGroup]="addTodoForm" (ngSubmit)="addTodo()">
    <div class="mb-4">
      <label for="task-title" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Task
        Title</label>
      <input type="text" id="task-title" formControlName="title" required
        class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white"
        placeholder="What needs to be done?">
    </div>

    <div class="mb-4">
      <label for="task-description"
        class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description</label>
      <textarea id="task-description" rows="3" formControlName="description"
        class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white"
        placeholder="Add details about your task..."></textarea>
    </div>

    <div class="grid grid-cols-2 gap-4 mb-4">
      <div>
        <label for="task-category"
          class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Category</label>
        <select id="task-category" formControlName="category_id" required
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white">
          <option value="">Select Category</option>
          @for (category of categories(); track category) {
          <option [value]="category.id">{{ category.category_name }}</option>
          }
        </select>
      </div>
      <div>
        <label for="task-priority"
          class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Priority</label>
        <select id="task-priority" formControlName="priority" required
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white">
          <option value="">Select Priority</option>
          <option value="low">Low</option>
          <option value="medium">Medium</option>
          <option value="high">High</option>
        </select>
      </div>
    </div>

    <div class="grid grid-cols-2 gap-4 mb-6">
      <div>
        <label for="task-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Due
          Date</label>
        <input type="date" id="task-date" formControlName="dueDate" required
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white">
      </div>
      <div>
        <label for="task-time" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Due
          Time</label>
        <input type="time" id="task-time" formControlName="dueTime" required
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white">
      </div>
    </div>

    <div>
      @if (addTodoForm.status === 'VALID') {
      <button type="submit"
        class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500">
        Add Task
      </button>
      } @else {
      <button type="submit" disabled
        class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-400 hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">
        Add Task
      </button>
      }
    </div>
  </form>
</div>